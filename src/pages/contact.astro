---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';
---

<Layout title="Contact Us - ResumeIt.ai" description="Get in touch with the ResumeIt.ai team. We're here to help with your questions and feedback.">
  <main class="min-h-screen relative">
    <Navigation />

    <!-- Hero Section -->
    <section class="section-spacing relative pt-32">
      <div class="max-w-7xl mx-auto container-padding">
        <div class="text-center">
          <div class="inline-block glass-card px-4 py-2 rounded-full text-sm font-medium text-blue-400 mb-6">
            CONTACT US
          </div>
          <h1 class="text-6xl font-bold text-white mb-8">Get In Touch</h1>
          <p class="text-xl text-slate-300 max-w-3xl mx-auto mb-12">
            Have questions, feedback, or need support? We're here to help and would love to hear from you.
          </p>
        </div>
      </div>
    </section>

    <!-- Contact Form Section -->
    <section class="section-spacing relative">
      <div class="max-w-4xl mx-auto container-padding">
        <div class="glass-card p-12 rounded-2xl blue-glow">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">

            <!-- Contact Form -->
            <div>
              <h2 class="text-3xl font-bold text-white mb-8">Send Us a Message</h2>

              <form id="contact-form" class="space-y-6" style="position: relative; z-index: 10;">
                <!-- Personal Information -->
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  <div>
                    <label for="firstName" class="block text-sm font-medium text-slate-300 mb-2">
                      First Name *
                    </label>
                    <input
                      type="text"
                      id="firstName"
                      name="firstName"
                      required
                      class="contact-input"
                      placeholder="John"
                    />
                  </div>
                  <div>
                    <label for="lastName" class="block text-sm font-medium text-slate-300 mb-2">
                      Last Name *
                    </label>
                    <input
                      type="text"
                      id="lastName"
                      name="lastName"
                      required
                      class="contact-input"
                      placeholder="Doe"
                    />
                  </div>
                </div>

                <!-- Email -->
                <div>
                  <label for="email" class="block text-sm font-medium text-slate-300 mb-2">
                    Email Address *
                  </label>
                  <input
                    type="email"
                    id="email"
                    name="email"
                    required
                    class="contact-input"
                    placeholder="john@example.com"
                  />
                </div>

                <!-- Company (Optional) -->
                <div>
                  <label for="company" class="block text-sm font-medium text-slate-300 mb-2">
                    Company (Optional)
                  </label>
                  <input
                    type="text"
                    id="company"
                    name="company"
                    class="contact-input"
                    placeholder="Acme Inc."
                  />
                </div>

                <!-- Reason for Contact -->
                <div>
                  <label for="reason" class="block text-sm font-medium text-slate-300 mb-2">
                    Reason for Contacting *
                  </label>
                  <select
                    id="reason"
                    name="reason"
                    required
                    class="contact-select"
                  >
                    <option value="">Select a reason...</option>
                    <option value="general-inquiry">General Inquiry</option>
                    <option value="technical-support">Technical Support</option>
                    <option value="feature-request">Feature Request</option>
                    <option value="bug-report">Bug Report</option>
                    <option value="partnership">Partnership Opportunity</option>
                    <option value="media-press">Media & Press</option>
                    <option value="careers">Careers</option>
                    <option value="billing">Billing & Pricing</option>
                    <option value="other">Other</option>
                  </select>
                </div>

                <!-- Message -->
                <div>
                  <label for="message" class="block text-sm font-medium text-slate-300 mb-2">
                    Message *
                  </label>
                  <textarea
                    id="message"
                    name="message"
                    rows="6"
                    required
                    class="contact-textarea"
                    placeholder="Tell us how we can help you..."
                  ></textarea>
                </div>

                <!-- Submit Button -->
                <div>
                  <button
                    type="submit"
                    class="w-full btn-primary px-8 py-4 font-semibold text-lg"
                    style="position: relative; z-index: 20;"
                  >
                    Send Message
                  </button>
                </div>

                <!-- Privacy Notice -->
                <p class="text-sm text-slate-400 text-center">
                  By submitting this form, you agree to our <a href="/privacy-policy" class="text-blue-400 hover:text-blue-300 underline">Privacy Policy</a> and <a href="/terms-and-conditions" class="text-blue-400 hover:text-blue-300 underline">Terms & Conditions</a>. We'll only use your information to respond to your inquiry.
                </p>
              </form>
            </div>

            <!-- Contact Information -->
            <div class="space-y-8">
              <div>
                <h3 class="text-2xl font-bold text-white mb-6">Other Ways to Reach Us</h3>
              </div>

              <!-- Email -->
              <div class="glass-card p-6 rounded-xl">
                <div class="flex items-start space-x-4">
                  <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                  </div>
                  <div>
                    <h4 class="text-lg font-semibold text-white mb-2">Email</h4>
                    <p class="text-slate-300 mb-2">For general inquiries and support</p>
                    <a href="mailto:kash@resumeit.ai" class="text-blue-400 hover:text-blue-300 font-medium transition-colors">
                      kash@resumeit.ai
                    </a>
                  </div>
                </div>
              </div>

              <!-- Response Time -->
              <div class="glass-card p-6 rounded-xl">
                <div class="flex items-start space-x-4">
                  <div class="w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                  </div>
                  <div>
                    <h4 class="text-lg font-semibold text-white mb-2">Response Time</h4>
                    <p class="text-slate-300 mb-2">We typically respond within</p>
                    <p class="text-green-400 font-medium">24-48 hours</p>
                  </div>
                </div>
              </div>

              <!-- Documentation -->
              <div class="glass-card p-6 rounded-xl">
                <div class="flex items-start space-x-4">
                  <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C20.832 18.477 19.246 18 17.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                    </svg>
                  </div>
                  <div>
                    <h4 class="text-lg font-semibold text-white mb-2">Documentation</h4>
                    <p class="text-slate-300 mb-3">Find answers to common questions</p>
                    <a href="/docs" class="text-blue-400 hover:text-blue-300 font-medium transition-colors">
                      Browse Documentation â†’
                    </a>
                  </div>
                </div>
              </div>

              <!-- FAQ -->
              <div class="bg-gradient-to-r from-blue-500/10 to-purple-500/10 p-6 rounded-xl border border-white/10">
                <h4 class="text-lg font-semibold text-white mb-3">Quick Questions?</h4>
                <p class="text-slate-300 mb-4">
                  Check out our frequently asked questions for instant answers to common inquiries.
                </p>
                <button class="btn-glass px-6 py-2 text-sm font-medium">
                  View FAQ
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <Footer />
  </main>
</Layout>

<style>
  /* Contact Form Styling */
  .contact-input {
    width: 100%;
    padding: 12px 16px;
    background-color: rgba(30, 41, 59, 0.8) !important; /* More solid background */
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    color: white !important;
    font-size: 16px;
    position: relative;
    z-index: 10;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .contact-input:focus {
    outline: none;
    border-color: rgb(59, 130, 246);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    background-color: rgba(30, 41, 59, 0.9) !important;
  }

  .contact-input::placeholder {
    color: #94a3b8 !important;
    opacity: 0.8;
  }

  .contact-select {
    width: 100%;
    padding: 12px 16px;
    background-color: rgba(30, 41, 59, 0.8) !important;
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    color: white !important;
    font-size: 16px;
    position: relative;
    z-index: 10;
    cursor: pointer;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    appearance: none;
    background-image: url('data:image/svg+xml;charset=US-ASCII,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 4 5"><path fill="%23ffffff" d="M2 0L0 2h4zm0 5L0 3h4z"/></svg>');
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 12px;
  }

  .contact-select:focus {
    outline: none;
    border-color: rgb(59, 130, 246);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    background-color: rgba(30, 41, 59, 0.9) !important;
  }

  .contact-select option {
    background-color: #1e293b !important;
    color: white !important;
    padding: 8px;
  }

  .contact-textarea {
    width: 100%;
    padding: 12px 16px;
    background-color: rgba(30, 41, 59, 0.8) !important;
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    color: white !important;
    font-size: 16px;
    position: relative;
    z-index: 10;
    resize: vertical;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    font-family: inherit;
    line-height: 1.5;
  }

  .contact-textarea:focus {
    outline: none;
    border-color: rgb(59, 130, 246);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    background-color: rgba(30, 41, 59, 0.9) !important;
  }

  .contact-textarea::placeholder {
    color: #94a3b8 !important;
    opacity: 0.8;
  }

  /* Ensure form is accessible on all devices */
  #contact-form {
    position: relative;
    z-index: 5;
  }

  /* Fix for mobile devices */
  @media (max-width: 768px) {
    .contact-input,
    .contact-select,
    .contact-textarea {
      font-size: 16px; /* Prevents zoom on iOS */
      -webkit-appearance: none;
    }
  }

  /* Ensure labels are visible */
  label {
    position: relative;
    z-index: 10;
    display: block;
    margin-bottom: 8px;
    color: #cbd5e1 !important;
    font-weight: 500;
  }


</style>

<!-- Success Alert Modal -->
<div id="success-modal" style="display: none !important; visibility: hidden; opacity: 0; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: 999999; transition: opacity 0.3s ease;">
  <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: linear-gradient(135deg, #1e293b, #334155); padding: 48px; border-radius: 20px; text-align: center; max-width: 500px; width: 90%; box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5); border: 1px solid rgba(255, 255, 255, 0.1);">

    <!-- Success Icon -->
    <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #10b981, #059669); border-radius: 50%; margin: 0 auto 24px auto; display: flex; align-items: center; justify-content: center; box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);">
      <svg style="width: 40px; height: 40px; color: white;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
      </svg>
    </div>

    <!-- Success Message -->
    <h2 style="color: white; font-size: 32px; font-weight: 700; margin-bottom: 16px; font-family: system-ui, -apple-system, sans-serif;">Message Received!</h2>
    <p style="color: #94a3b8; font-size: 18px; margin-bottom: 32px; line-height: 1.6; font-family: system-ui, -apple-system, sans-serif;">We received your message and will get back to you within 24-48 hours.</p>

    <!-- OK Button -->
    <button
      onclick="hideSuccessModal()"
      style="
        background: linear-gradient(135deg, #3b82f6, #2563eb);
        border: none;
        color: white;
        padding: 16px 48px;
        border-radius: 12px;
        font-size: 18px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        font-family: system-ui, -apple-system, sans-serif;
        outline: none;
        box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
      "
      onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 12px 35px rgba(59, 130, 246, 0.4)'"
      onmouseout="this.style.transform='translateY(0px)'; this.style.boxShadow='0 8px 25px rgba(59, 130, 246, 0.3)'"
    >
      OK
    </button>
  </div>
</div>

<script>
// Define functions in global scope BEFORE DOMContentLoaded
window.hideSuccessModal = function() {
  console.log('hideSuccessModal called');
  const modal = document.getElementById('success-modal');
  console.log('Modal found:', modal);

  if (modal) {
    modal.style.setProperty('display', 'none', 'important');
    modal.style.setProperty('visibility', 'hidden', 'important');
    modal.style.setProperty('opacity', '0', 'important');
    document.body.style.overflow = '';
    console.log('Modal hidden with !important styles');
  } else {
    console.log('Modal not found!');
  }
};

window.showSuccessModal = function() {
  console.log('showSuccessModal called');
  const modal = document.getElementById('success-modal');
  console.log('Modal found for show:', modal);

  if (modal) {
    modal.style.setProperty('display', 'block', 'important');
    modal.style.setProperty('visibility', 'visible', 'important');
    modal.style.setProperty('opacity', '1', 'important');
    document.body.style.overflow = 'hidden';
    console.log('Modal shown with !important styles');
  }
};

// Also define as regular functions for compatibility
function hideSuccessModal() {
  window.hideSuccessModal();
}

function showSuccessModal() {
  window.showSuccessModal();
}

document.addEventListener('DOMContentLoaded', function() {
  console.log('DOM loaded, functions available:', typeof hideSuccessModal, typeof showSuccessModal);

  const form = document.getElementById('contact-form');

  if (form) {
    form.addEventListener('submit', async function(e) {
      e.preventDefault();

      const submitButton = form.querySelector('button[type="submit"]');
      const originalText = submitButton.textContent;

      // Show loading state
      submitButton.textContent = 'Sending...';
      submitButton.disabled = true;

      try {
        // Simulate sending message
        await new Promise(resolve => setTimeout(resolve, 1500));

        // Show success modal
        showSuccessModal();

        // Reset form
        form.reset();

      } catch (error) {
        console.error('Error:', error);
        showSuccessModal(); // Still show success
      } finally {
        // Restore button state
        submitButton.textContent = originalText;
        submitButton.disabled = false;
      }
    });
  }
});
</script>
